<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>1. 走近Java | MyBlog - GxkOrd</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="《深入理解Java虚拟机》,JVM,第一部分 走近Java">
    <meta name="description" content="声明：本专题为周志明老师所著《深入理解Java虚拟机》的笔记  Java技术体系从传统意义上来讲，Sun公司所定义的Java技术体系包括：  Java程序设计语言 各种硬件平台上的Java虚拟机 Class文件格式 Java API类库 来自商业机构和开源社区的第三方Java类库  我们可以把Java程序设计语言，Java虚拟机，Java API类库这三部分统称为JDK（JAVA Develop">
<meta name="keywords" content="《深入理解Java虚拟机》,JVM,第一部分 走近Java">
<meta property="og:type" content="article">
<meta property="og:title" content="1. 走近Java">
<meta property="og:url" content="https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/index.html">
<meta property="og:site_name" content="MyBlog - GxkOrd">
<meta property="og:description" content="声明：本专题为周志明老师所著《深入理解Java虚拟机》的笔记  Java技术体系从传统意义上来讲，Sun公司所定义的Java技术体系包括：  Java程序设计语言 各种硬件平台上的Java虚拟机 Class文件格式 Java API类库 来自商业机构和开源社区的第三方Java类库  我们可以把Java程序设计语言，Java虚拟机，Java API类库这三部分统称为JDK（JAVA Develop">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://gxkord.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1.%20走近Java/JDK1.8.png">
<meta property="og:updated_time" content="2019-01-23T07:49:14.339Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1. 走近Java">
<meta name="twitter:description" content="声明：本专题为周志明老师所著《深入理解Java虚拟机》的笔记  Java技术体系从传统意义上来讲，Sun公司所定义的Java技术体系包括：  Java程序设计语言 各种硬件平台上的Java虚拟机 Class文件格式 Java API类库 来自商业机构和开源社区的第三方Java类库  我们可以把Java程序设计语言，Java虚拟机，Java API类库这三部分统称为JDK（JAVA Develop">
<meta name="twitter:image" content="https://gxkord.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1.%20走近Java/JDK1.8.png">
    
        <link rel="alternate" type="application/atom+xml" title="MyBlog - GxkOrd" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">GxkOrd</h5>
          <a href="mailto:gxk295238892@gmail.com" title="gxk295238892@gmail.com" class="mail">gxk295238892@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/GxkOrd" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">1. 走近Java</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">1. 走近Java</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-12-02T08:14:13.000Z" itemprop="datePublished" class="page-time">
  2018-12-02
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Java技术体系"><span class="post-toc-number">1.</span> <span class="post-toc-text">Java技术体系</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Java的发展历程"><span class="post-toc-number">2.</span> <span class="post-toc-text">Java的发展历程</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#JVM的发展"><span class="post-toc-number">3.</span> <span class="post-toc-text">JVM的发展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sun-Classic-Exact-VM"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Sun Classic / Exact VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sun-HotSpot-VM"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">Sun HotSpot VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sun-Mobile-Embedded-VM-Meta-Circular-VM"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">Sun Mobile-Embedded VM / Meta-Circular VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BEA-JRockit-IBM-J9-VM"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">BEA JRockit / IBM J9 VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Azul-VM-BEA-Liquid-VM"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">Azul VM / BEA Liquid VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Apache-Harmony-Google-Android-Dalvik-VM"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">Apache Harmony / Google Android Dalvik VM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Microsoft-JVM及其他"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">Microsoft JVM及其他</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Java技术展望"><span class="post-toc-number">4.</span> <span class="post-toc-text">Java技术展望</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">1. 走近Java</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-12-02 16:14:13" datetime="2018-12-02T08:14:13.000Z"  itemprop="datePublished">2018-12-02</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <blockquote>
<p>声明：本专题为周志明老师所著《深入理解Java虚拟机》的笔记</p>
</blockquote>
<h1 id="Java技术体系"><a href="#Java技术体系" class="headerlink" title="Java技术体系"></a>Java技术体系</h1><p>从传统意义上来讲，Sun公司所定义的Java技术体系包括：</p>
<ul>
<li>Java程序设计语言</li>
<li>各种硬件平台上的Java虚拟机</li>
<li>Class文件格式</li>
<li>Java API类库</li>
<li>来自商业机构和开源社区的第三方Java类库</li>
</ul>
<p>我们可以把<strong>Java程序设计语言</strong>，<strong>Java虚拟机</strong>，<strong>Java API类库</strong>这三部分统称为<strong>JDK（JAVA Development Kit）</strong>,JDK是支持Java程序开发的最小环境。<br>另外，我们把<strong>Java SE API子集</strong>和<strong>Java虚拟机</strong>这两部分统称为<strong>JRE（Java Runtime Environment）</strong>，JRE是支持程序运行的标准环境。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/JDK1.8.png" alt="Java技术体系所包含的内容（JDK1.8）" title>
                </div>
                <div class="image-caption">Java技术体系所包含的内容（JDK1.8）</div>
            </figure>

<p>如果按照技术所服务的领域来划分，Java技术体系可分为4个平台：</p>
<ul>
<li>Java Card：支持一些小程序运行在小内存设备（如智能卡）上的平台。</li>
<li>Java ME（Micro Edition）：支持Java运行在移动终端上的平台。</li>
<li>Java SE（Standard Edition）：支持面向桌面级应用的Java平台。</li>
<li>Java EE（Enterprise Edition）：支持使用多层架构的企业应用的Java平台。</li>
</ul>
<h1 id="Java的发展历程"><a href="#Java的发展历程" class="headerlink" title="Java的发展历程"></a>Java的发展历程</h1><p>1995年5月23日，Java语言诞生；<br>1996年1月，第一个JDK-JDK1.0诞生；<br>1996年4月，10个最主要的操作系统供应商申明将在其产品中嵌入Java技术；<br>1996年9月，约8.3万个网页应用了Java技术来制作；<br>1997年2月18日，JDK1.1发布；<br>1997年4月2日，JavaOne会议召开，参与者逾一万人，创当时全球同类会议纪录；<br>1997年9月，JavaDeveloperConnection社区成员超过十万；<br>1998年2月，JDK1.1被下载超过2,000,000次；<br>1998年12月8日，Java 2企业平台J2EE发布 (J2EE1.2)；<br>1999年6月，SUN公司发布Java三个版本：标准版（J2SE）、企业版（J2EE）和微型版（J2ME）；<br>2000年5月8日，JDK1.3发布；<br>2000年5月29日，JDK1.4发布；<br>2001年6月5日，Nokia宣布到2003年将出售1亿部支持Java的手机；<br>2001年9月24日，J2EE1.3发布；<br>2002年2月26日，J2SE1.4发布，此后Java的计算能力有了大幅提升；同年微软发布.NET Framework；<br>2004年9月30日，J2SE1.5发布，成为Java语言发展史上的又一里程碑。为了表示该版本的重要性，J2SE1.5更名为Java SE 5.0；<br>2005年6月，JavaOne大会召开，SUN公司公开Java SE 6。此时，Java的各种版本已经更名，以取消其中的数字“2”： J2ME更名为Java ME， J2SE更名为Java SE， J2EE更名为Java EE；<br>2006年12月，SUN公司发布JRE6.0；<br>2009年12月，SUN公司发布Java EE 6；<br>2010年11月，由于Oracle对Java社区的不友善，因此Apache扬言将退出JCP；<br>2011年7月，Oracle发布Java SE 7；<br>2014年3月，Oracle发表Java SE 8；<br>Java SE 9 Oracle宣布 2016年9月发布；<br>2017年9月21延期了好几次的Java9正式发布；<br>2018年3月20号，Oracle发布了Java10；<br>2018年9月25号，Oracle发布了Java11；</p>
<h1 id="JVM的发展"><a href="#JVM的发展" class="headerlink" title="JVM的发展"></a>JVM的发展</h1><h2 id="Sun-Classic-Exact-VM"><a href="#Sun-Classic-Exact-VM" class="headerlink" title="Sun Classic / Exact VM"></a>Sun Classic / Exact VM</h2><p>以今天的视角来看，Sun Classic VM的技术可能很原始，这款虚拟机的使命也早已终结。但仅凭它“世界上第一款商用Java虚拟机”的头衔，就足够有让历史记住它的理由。</p>
<p>1996年1月23日，Sun公司发布JDK 1.0，Java语言首次拥有了商用的正式运行环境，这个JDK中所带的虚拟机就是Classic VM。这款虚拟机只能使用纯解释器方式来执行Java代码，如果要使用JIT编译器，就必须进行外挂。但是假如外挂了JIT编译器，JIT编译器就完全接管了虚拟机的执行系统，解释器便不再工作了。用户在这款虚拟机上执行java -version命令，将会看到类似下面这行输出：</p>
<blockquote>
<p>java version “1.2.2”<br>Classic VM (build JDK-1.2.2-001, green threads, sunwjit)</p>
</blockquote>
<p>其中的“sunwjit”就是Sun提供的外挂编译器，其他类似的外挂编译器还有Symantec JIT和shuJIT等。由于解释器和编译器不能配合工作，这就意味着如果要使用编译器执行，编译器就不得不对每一个方法、每一行代码都进行编译，而无论它们执行的频率是否具有编译的价值。基于程序响应时间的压力，这些编译器根本不敢应用编译耗时稍高的优化技术，因此这个阶段的虚拟机即使用了JIT编译器输出本地代码，执行效率也和传统的C/C++程序有很大差距，“Java语言很慢”的形象就是在这时候开始在用户心中树立起来的。</p>
<p>Sun的虚拟机团队努力去解决Classic VM所面临的各种问题，提升运行效率。在JDK 1.2时，曾在Solaris平台上发布过一款名为Exact VM的虚拟机，它的执行系统已经具备现代高性能虚拟机的雏形：如两级即时编译器、编译器与解释器混合工作模式等。Exact VM因它使用准确式内存管理（Exact Memory Management，也可以叫Non-Conservative/Accurate Memory Management）而得名，即虚拟机可以知道内存中某个位置的数据具体是什么类型。</p>
<p>虽然Exact VM的技术相对Classic VM来说先进了许多，但是在商业应用上只存在了很短暂的时间就被更为优秀的HotSpot VM所取代，甚至还没有来得及发布Windows和Linux平台下的商用版本。而Classic VM的生命周期则相对长了许多，它在JDK 1.2之前是Sun JDK中唯一的虚拟机，在JDK 1.2时，它与HotSpot VM并存，但默认使用的是Classic VM（用户可用java-hotspot参数切换至HotSpot VM），而在JDK 1.3时，HotSpot VM成为默认虚拟机，但Classic VM仍作为虚拟机的“备用选择”发布（使用java-classic参数切换），直到JDK 1.4的时候，Classic VM才完全退出商用虚拟机的历史舞台，与Exact VM一起进入了Sun Labs Research VM之中。</p>
<h2 id="Sun-HotSpot-VM"><a href="#Sun-HotSpot-VM" class="headerlink" title="Sun HotSpot VM"></a>Sun HotSpot VM</h2><p>提起HotSpot VM，相信所有Java程序员都知道，它是Sun JDK和OpenJDK中所带的虚拟机，也是目前使用范围最广的Java虚拟机。但不一定所有人都知道的是，这个目前看起来“血统纯正”的虚拟机在最初并非由Sun公司开发，而是由一家名为“Longview Technologies”的小公司设计的；甚至这个虚拟机最初并非是为Java语言而开发的，它来源于Strongtalk VM，而这款虚拟机中相当多的技术又是来源于一款支持Self语言实现“达到C语言50%以上的执行效率”的目标而设计的虚拟机，Sun公司注意到了这款虚拟机在JIT编译上有许多优秀的理念和实际效果，在1997年收购了Longview Technologies公司，从而获得了HotSpot VM。</p>
<p>HotSpot VM既继承了Sun之前两款商用虚拟机的优点，也有许多自己新的技术优势，如它名称中的HotSpot指的就是它的热点代码探测技术，HotSpot VM的热点代码探测能力可以通过执行计数器找出最具有编译价值的代码，然后通知JIT编译器以方法为单位进行编译。如果一个方法被频繁调用，或方法中有效循环次数很多，将会分别触发标准编译和OSR（栈上替换）编译动作。通过编译器与解释器恰当地协同工作，可以在最优化的程序响应时间与最佳执行性能中取得平衡，而且无须等待本地代码输出才能执行程序，即时编译的时间压力也相对减小，这样有助于引入更多的代码优化技术，输出质量更高的本地代码。</p>
<p>在2006年的JavaOne大会上，Sun公司宣布最终会把Java开源，并在随后的一年，陆续将JDK的各个部分（其中当然也包括了HotSpot VM）在GPL协议下公开了源码，并在此基础上建立了OpenJDK。这样，HotSpot VM便成为了Sun JDK和OpenJDK两个实现极度接近的JDK项目的共同虚拟机。</p>
<p>在2008年和2009年，Oracle公司分别收购了BEA公司和Sun公司，这样Oracle就同时拥有了两款优秀的Java虚拟机：JRockit VM和HotSpot VM。Oracle公司宣布在不久的将来（大约应在发布JDK 8的时候）会完成这两款虚拟机的整合工作，使之优势互补。整合的方式大致上是在HotSpot的基础上，移植JRockit的优秀特性，譬如使用JRockit的垃圾回收器与MissionControl服务，使用HotSpot的JIT编译器与混合的运行时系统。</p>
<h2 id="Sun-Mobile-Embedded-VM-Meta-Circular-VM"><a href="#Sun-Mobile-Embedded-VM-Meta-Circular-VM" class="headerlink" title="Sun Mobile-Embedded VM / Meta-Circular VM"></a>Sun Mobile-Embedded VM / Meta-Circular VM</h2><p>Sun公司所研发的虚拟机可不仅有前面介绍的服务器、桌面领域的商用虚拟机，除此之外，Sun公司面对移动和嵌入式市场，也发布过虚拟机产品，另外还有一类虚拟机，在设计之初就没抱有商用的目的，仅仅是用于研究、验证某种技术和观点，又或者是作为一些规范的标准实现。这些虚拟机对于大部分不从事相关领域开发的Java程序员来说可能比较陌生。Sun公司发布的其他Java虚拟机有：</p>
<p>(1) KVM<br>KVM中的K是“Kilobyte”的意思，它强调简单、轻量、高度可移植，但是运行速度比较慢。在Android、iOS等智能手机操作系统出现前曾经在手机平台上得到非常广泛的应用。</p>
<p>(2) CDC/CLDC HotSpot Implementation<br>CDC/CLDC全称是Connected（Limited）Device Configuration，在JSR-139/JSR-218规范中进行定义，它希望在手机、电子书、PDA等设备上建立统一的Java编程接口，而CDC-HI VM和CLDC-HI VM则是它们的一组参考实现。CDC/CLDC是整个Java ME的重要支柱，但从目前Android和iOS二分天下的移动数字设备市场看来，在这个领域中，Sun的虚拟机所面临的局面远不如服务器和桌面领域乐观。</p>
<p>(3) Squawk VM<br>Squawk VM由Sun公司开发，运行于Sun SPOT（Sun Small Programmable Object Technology，一种手持的WiFi设备），也曾经运用于Java Card。这是一个Java代码比重很高的嵌入式虚拟机实现，其中诸如类加载器、字节码验证器、垃圾收集器、解释器、编译器和线程调度都是Java语言本身完成的，仅仅靠C语言来编写设备I/O和必要的本地代码。</p>
<p>(4)JavaInJava<br>JavaInJava是Sun公司于1997年～1998年间研发的一个实验室性质的虚拟机，从名字就可以看出，它试图以Java语言来实现Java语言本身的运行环境，既所谓的“元循环”（Meta-Circular，是指使用语言自身来实现其运行环境）。它必须运行在另外一个宿主虚拟机之上，内部没有JIT编译器，代码只能以解释模式执行。在20世纪末主流Java虚拟机都未能很好解决性能问题的时代，开发这种项目，其执行速度可想而知。</p>
<p>(5) Maxine VM<br>Maxine VM和上面的JavaInJava非常相似，它也是一个几乎全部以Java代码实现（只有用于启动JVM的加载器使用C语言编写）的元循环Java虚拟机。这个项目于2005年开始，到现在仍然在发展之中，比起JavaInJava，Maxine VM就显得“靠谱”很多，它有先进的JIT编译器和垃圾收集器（但没有解释器），可在宿主模式或独立模式下执行，其执行效率已经接近了HotSpot Client VM的水平。</p>
<h2 id="BEA-JRockit-IBM-J9-VM"><a href="#BEA-JRockit-IBM-J9-VM" class="headerlink" title="BEA JRockit / IBM J9 VM"></a>BEA JRockit / IBM J9 VM</h2><p>JRockit VM曾经号称“世界上速度最快的Java虚拟机”它是BEA公司在2002年从Appeal Virtual Machines公司收购的虚拟机。BEA公司将其发展为一款专门为服务器硬件和服务器端应用场景高度优化的虚拟机，由于专注于服务器端应用，它可以不太关注程序启动速度，因此JRockit内部不包含解析器实现，全部代码都靠即时编译器编译后执行。除此之外，JRockit的垃圾收集器和MissionControl服务套件等部分的实现，在众多Java虚拟机中也一直处于领先水平。</p>
<p>IBM J9 VM并不是IBM公司唯一的Java虚拟机，不过是目前其主力发展的Java虚拟机。IBM J9 VM原本是内部开发代号，正式名称是“IBM Technology for Java Virtual Machine”，简称IT4J，只是这个名字太拗口了一点，普及程度不如J9。J9 VM最初是由IBM Ottawa实验室一个名为SmallTalk的虚拟机扩展而来的，当时这个虚拟机有一个bug是由8k值定义错误引起的，工程师花了很长时间终于发现并解决了这个错误，此后这个版本的虚拟机就称为K8了，后来扩展出支持Java的虚拟机就被称为J9了。与BEA JRockit专注于服务器端应用不同，IBM J9的市场定位与Sun HotSpot比较接近，它是一款设计上从服务器端到桌面应用再到嵌入式都全面考虑的多用途虚拟机，J9的开发目的是作为IBM公司各种Java产品的执行平台，它的主要市场是和IBM产品（如IBM WebSphere等）搭配以及在IBM AIX和z/OS这些平台上部署Java应用。</p>
<h2 id="Azul-VM-BEA-Liquid-VM"><a href="#Azul-VM-BEA-Liquid-VM" class="headerlink" title="Azul VM / BEA Liquid VM"></a>Azul VM / BEA Liquid VM</h2><p>我们平时所提及的“高性能Java虚拟机”一般是指HotSpot、JRockit、J9这类在通用平台上运行的商用虚拟机，但其实Azul VM和BEA Liquid VM这类特定硬件平台专有的虚拟机才是“高性能”的武器。</p>
<p>Azul VM是Azul Systems 公司在HotSpot基础上进行大量改进，运行于Azul Systems公司的专有硬件Vega系统上的Java虚拟机，每个Azul VM实例都可以管理至少数十个CPU和数百GB内存的硬件资源，并提供在巨大内存范围内实现可控的GC时间的垃圾收集器、为专有硬件优化的线程调度等优秀特性。在2010年，Azul Systems公司开始从硬件转向软件，发布了自己的Zing JVM，可以在通用x86平台上提供接近于Vega系统的特性。</p>
<p>Liquid VM即是现在的JRockit VE（Virtual Edition），它是BEA公司开发的，可以直接运行在自家Hypervisor系统上的JRockit VM的虚拟化版本，Liquid VM不需要操作系统的支持，或者说它自己本身实现了一个专用操作系统的必要功能，如文件系统、网络支持等。由虚拟机越过通用操作系统直接控制硬件可以获得很多好处，如在线程调度时，不需要再进行内核态/用户态的切换等，这样可以最大限度地发挥硬件的能力，提升Java程序的执行性能。</p>
<h2 id="Apache-Harmony-Google-Android-Dalvik-VM"><a href="#Apache-Harmony-Google-Android-Dalvik-VM" class="headerlink" title="Apache Harmony / Google Android Dalvik VM"></a>Apache Harmony / Google Android Dalvik VM</h2><p>Harmony VM和Dalvik VM只能称做“虚拟机”，而不能称做“Java虚拟机”，但是这两款虚拟机（以及所代表的技术体系）对最近几年的Java世界产生了非常大的影响和挑战，甚至有些悲观的评论家认为成熟的Java生态系统有崩溃的可能。</p>
<p>Apache Harmony是一个Apache软件基金会旗下以Apache License协议开源的实际兼容于JDK 1.5和JDK 1.6的Java程序运行平台，这个介绍相当拗口。它包含自己的虚拟机和Java库，用户可以在上面运行Eclipse、Tomcat、Maven等常见的Java程序，但是它没有通过TCK认证，所以我们不得不用那么一长串拗口的语言来介绍它，而不能用一句“Apache的JDK”来说明。如果一个公司要宣布自己的运行平台“兼容于Java语言”，那就必须要通过TCK（Technology Compatibility Kit）的兼容性测试。Apache基金会曾要求Sun公司提供TCK的使用授权，但是一直遭到拒绝，直到Oracle公司收购了Sun公司之后，双方关系越闹越僵，最终导致Apache愤然退出JCP（Java Community Process）组织，这是目前为止Java社区最严重的一次“分裂”。</p>
<p>在Sun将JDK开源形成OpenJDK之后，Apache Harmony开源的优势被极大地削弱，甚至连Harmony项目的最大参与者IBM公司也宣布辞去Harmony项目管理主席的职位，并参与OpenJDK项目的开发。虽然Harmony没有经过真正大规模的商业运用，但是它的许多代码（基本上是Java库部分的代码）被吸纳进IBM的JDK 7实现及Google Android SDK之中，尤其是对Android的发展起到了很大的推动作用。</p>
<p>说到Android，这个时下最热门的移动数码设备平台在最近几年间的发展过程中所取得的成果已经远远超越了Java ME在过去十多年所获得的成果，Android让Java语言真正走进了移动数码设备领域，只是走的并非Sun公司原本想象的那一条路。</p>
<p>Dalvik VM是Android平台的核心组成部分之一，它的名字来源于冰岛一个名为Dalvik的小渔村。Dalvik VM并不是一个Java虚拟机，它没有遵循Java虚拟机规范，不能直接执行Java的Class文件，使用的是寄存器架构而不是JVM中常见的栈架构。但是它与Java又有着千丝万缕的联系，它执行的dex（Dalvik Executable）文件可以通过Class文件转化而来，使用Java语法编写应用程序，可以直接使用大部分的Java API等。目前Dalvik VM随着Android一起处于迅猛发展阶段，在Android 2.2中已提供即时编译器实现，在执行性能上有了很大的提高。</p>
<h2 id="Microsoft-JVM及其他"><a href="#Microsoft-JVM及其他" class="headerlink" title="Microsoft JVM及其他"></a>Microsoft JVM及其他</h2><p>在十几年的Java虚拟机发展过程中，除去上面介绍的那些被大规模商业应用过的Java虚拟机外，还有许多虚拟机是不为人知的或者曾经“绚丽”过但最终湮灭的。我们以其中微软公司的JVM为例来介绍一下。</p>
<p>也许Java程序员听起来可能会觉得惊讶，微软公司曾经是Java技术的铁杆支持者（也必须承认，与Sun公司争夺Java的控制权，令Java从跨平台技术变为绑定在Windows上的技术是微软公司的主要目的）。在Java语言诞生的初期（1996年～1998年，以JDK 1.2发布为分界），它的主要应用之一是在浏览器中运行Java Applets程序，微软公司为了在IE3中支持Java Applets应用而开发了自己的Java虚拟机，虽然这款虚拟机只有Windows平台的版本，却是当时Windows下性能最好的Java虚拟机，它在1997年和1998年连续两年获得了《PC Magazine》杂志的“编辑选择奖”。但好景不长，在1997年10月，Sun公司正式以侵犯商标、不正当竞争等罪名控告微软公司，在随后对微软公司的垄断调查之中，这款虚拟机也曾作为证据之一被呈送法庭。这场官司的结果是微软公司赔偿2000万美金给Sun公司（最终微软公司因垄断赔偿给Sun公司的总金额高达10亿美元），承诺终止其Java虚拟机的发展，并逐步在产品中移除Java虚拟机相关功能。具有讽刺意味的是，到最后在Windows XP SP3中Java虚拟机被完全抹去的时候，Sun公司却又到处登报希望微软公司不要这样做。Windows XP高级产品经理Jim Cullinan称：“我们花费了3年的时间和Sun打官司，当时他们试图阻止我们在Windows中支持Java，现在我们这样做了，可他们又在抱怨，这太具有讽刺意味了。”</p>
<p>我们试想一下，如果当年Sun公司没有起诉微软公司，微软公司继续保持着对Java技术的热情，那Java的世界会变得怎么样呢？.NET技术是否会发展起来？但历史是没有假设的。</p>
<h1 id="Java技术展望"><a href="#Java技术展望" class="headerlink" title="Java技术展望"></a>Java技术展望</h1><p>可以看到，Java作为最受欢迎的后台语言，依然在不断地汲取其他语言的优点。本书作者就<strong>模块化</strong>，<strong>混合语言</strong>，<strong>多核并行</strong>，<strong>进一步丰富语法</strong>，<strong>64位虚拟机</strong>方面对当时Java的未来做出了展望。</p>
<p><strong>事实证明，文章提到的这几个未来，正在一步一步的走进现实。</strong></p>
<p>比如，模块化已经在Java9中实现，Java8中lambda表达式的出现和Java9对lambda表达式的进一步优化，证明Java正在慢慢向函数式编程方向发展，多核编程正是Java语言未来的方向。更丰富的语法，64位的虚拟机也早已经成为了现实。</p>
<blockquote>
<p>在网上我们经常看到“世界上最好的语言”云云。编程语言的多样性，竟带来了程序员之间的鄙视链。</p>
<p>但其实，这个世界上根本没有万能的编程语言，所有编程语言都存在缺点。编程语言只是编写代码的工具，程序员才是代码的灵魂。不管选定了哪个方向，一步一步的往上走，修炼到深处都是大牛。能够让你跟别人产生差距的的永远不可能是语言，而是你本身，与君共勉。</p>
</blockquote>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        

        
        欢迎您的到来~
        
    </div>
    
    <footer>
        <a href="https://GxkOrd.github.io">
            <img src="/img/avatar.jpg" alt="GxkOrd">
            GxkOrd
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/">JVM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/《深入理解Java虚拟机》/">《深入理解Java虚拟机》</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/第一部分-走近Java/">第一部分 走近Java</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&title=《1. 走近Java》 — MyBlog - GxkOrd&pic=https://GxkOrd.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&title=《1. 走近Java》 — MyBlog - GxkOrd&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《1. 走近Java》 — MyBlog - GxkOrd&url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&via=https://GxkOrd.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/2. Java内存区域与内存溢出异常/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">2. Java内存区域与内存溢出异常</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/12/02/JavaScript/Three.js/2. 照相机/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">2. 照相机</h4>
      </a>
    </div>
  
</nav>



    





<section class="comments" id="comments">
    <!-- UY BEGIN -->
    <div id="uyan_frame"></div>
    <script src="http://v2.uyan.cc/code/uyan.js?uid=true"></script>
    <!-- UY END -->
</section>
















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
<!--
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
   -->
    <div class="bottom">
        <p><span>GxkOrd &copy; 2015 - 2020</span>
	    <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&title=《1. 走近Java》 — MyBlog - GxkOrd&pic=https://GxkOrd.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&title=《1. 走近Java》 — MyBlog - GxkOrd&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《1. 走近Java》 — MyBlog - GxkOrd&url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/&via=https://GxkOrd.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://GxkOrd.github.io/2018/12/02/Java/JVM/《深入理解java虚拟机》第2版/1. 走近Java/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADLElEQVR42u3ay47iQAwFUP7/p5ntSDNN32sHiRSnVq2GhByzMH48HvF5/nX+/s+/r75+5093zj/9p899vONgY2Nj34T9fHk2j/76EZPAJbD8PtjY2Nhns9vb/XTt5qoc+Tp80ReDjY2N/cXsfekyKzaSUgQbGxsb+zX79YfliS0PVvIqNjY2NnbeVNqDXxchSVCSNHlxLw0bGxv749l5afH5f79lvo2NjY39wezn6MwKmDaBteOE4vmxsbGxD2K3SSJv9+TNnXYZ6LIyCRsbG/sgdp5IZmPaPHDtos+moMLGxsY+g71p0+TpKsG3JUoe6P/cDRsbG/s4djuIbcuA/XA3aTklASoqJ2xsbOybsGfUfVmSJ5ukSdSOFrCxsbFPYs8aRm3bKP9/W97Mhs3Y2NjYp7LbgetsEJuXHLNEuBoPYGNjY9+QncM2g9i28TRs+pdjY2xsbOzvYScFSbugk181S2BFOwwbGxv7OHZyZuFoW/l50nqdrn75ArCxsbGPYLcNo/xHf1tCbNaG8muxsbGxT2LnCWk20G0T4axeqIcZ2NjY2AexNwsxLXLfKpqNB4atJWxsbOybsNux6wy2aTzlpU793WJjY2Mfwc7PVUkrHy3kjSRsbGzsb2bvGzRtXPP354PhPBzY2NjY57GvTWCz1JIXHpshxDAc2NjY2B/Pno1g8+bOZh0n57XDA2xsbOxT2UmBsRnZ5q3/vCAZBgUbGxv7IPb+1nmw2pZQG4g6uWJjY2Mfwd4s1uRN/82jJyPeuiDBxsbGPprdjnJnKectraKrVnawsbGxb8Vu01JbnLSw2XpQOwzGxsbGPok9A8wSxlWpLi9CfnRhY2NjH8ROks3sofOiouXlS0LRVAQbGxv75uxnefJFnMum0GXzKypysLGxsQ9i56fltaRZ4bFJitjY2NgnsZOkddVyz364O0uZj/whsLGxsW/LzhPDprWUt4dmySy/AzY2NvZ3smdLM5sCoy1U3pLAsLGxsQ9iJ9cmpUV7n9no95cQYGNjYx/Hzhs37UA3T3VtUNpXiyk3NjY29q3Ys9/t1xYJbYCSdLVa1sHGxsa+B/sPp/XoTOoHyUoAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '给我回来！';
            clearTimeout(titleTime);
        } else {
            document.title = 'MyBlog - GxkOrd';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
